"use strict";(self.webpackChunktest_project=self.webpackChunktest_project||[]).push([[142],{7728:(e,a,t)=>{t.d(a,{A:()=>i});t(6152);const i=t.p+"static/media/logo.a1ada7d5c87aad114a6499047a154d46.svg"},9432:(e,a,t)=>{t.d(a,{A:()=>b});var i=t(9379),n=t(6152),l=t.n(n),r=t(1551),s=t(567),o=t(5360),d=t(9073),c=t(2024),u=t(579);const m=240,p=(0,r.A)((e=>({root:{},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:"white",color:"black",height:"64px",border:"1px solid #D4D5DE"},appBarShift:{width:"calc(100% - ".concat(m,"px)"),marginLeft:m,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2),color:"black",backgroundColor:"white",borderRadius:"10%",width:"40px",height:"40px"},hide:{display:"none"},drawer:{width:m,flexShrink:0},drawerPaper:{width:m},drawerHeader:(0,i.A)((0,i.A)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}})));function b(e){let{title:a,menu:t,children:i}=e;const n=p(),r=(0,s.A)(),[m,b]=l().useState(!1);return(0,u.jsxs)("div",{className:n.root,children:[(0,u.jsx)(o.CssBaseline,{}),(0,u.jsxs)(o.Drawer,{className:n.drawer,variant:"persistent",anchor:"left",open:m,classes:{paper:n.drawerPaper},children:[(0,u.jsx)("div",{className:n.drawerHeader,children:(0,u.jsx)(o.IconButton,{onClick:()=>{b(!1)},children:"ltr"===r.direction?(0,u.jsx)(d.A,{}):(0,u.jsx)(c.A,{})})}),(0,u.jsx)(o.Divider,{}),(0,u.jsx)(o.List,{children:t.MenuSideBarSup.map(((e,a)=>(0,u.jsx)("a",{href:e.href,target:"_blank",style:{textDecoration:"none"},children:(0,u.jsxs)(o.ListItem,{button:!0,children:[(0,u.jsx)(o.ListItemIcon,{children:(0,u.jsx)(o.Icon,{children:e.icon})}),(0,u.jsx)(o.ListItemText,{primary:e.text})]},a)})))}),(0,u.jsx)(o.Divider,{}),(0,u.jsx)(o.List,{children:t.MenuSideBarInf.map(((e,a)=>(0,u.jsx)("a",{href:e.href,target:"_blank",style:{textDecoration:"none"},children:(0,u.jsxs)(o.ListItem,{button:!0,children:[(0,u.jsx)(o.ListItemIcon,{children:(0,u.jsx)(o.Icon,{children:e.icon})}),(0,u.jsx)(o.ListItemText,{primary:e.text})]},a)})))})]}),i]})}},842:(e,a,t)=>{t.d(a,{A:()=>F});var i=t(9379),n=t(45),l=t(6152),r=t(5360),s=t(7467),o=t(1551),d=t(7664),c=t(579);const u=e=>{let{state:a,setState:t,handleChange:i}=e;return(0,c.jsxs)(r.Grid,{container:!0,spacing:3,children:[(0,c.jsx)(r.Grid,{item:!0,md:12,children:(0,c.jsx)(d.Ej,{title:"Dimensions",subtitle:"",elevation:0,children:(0,c.jsx)(d.Y_,{headers:["Nom","Valeur","Unit\xe9","Description"],keys:["label","value","unit","description"],data:a.data,ui:a.ui.dimensions,onChange:i,style:{columnsWidth:["10%","30%","10%","50%"]}})})}),(0,c.jsx)(r.Grid,{item:!0,md:12,children:(0,c.jsx)(d.Ej,{title:"Conditions de base",subtitle:"",elevation:0,children:(0,c.jsx)(d.Y_,{headers:["Nom","Valeur","Unit\xe9","Description"],keys:["label","value","unit","description"],data:a.data,ui:a.ui.conditions,onChange:i,style:{columnsWidth:["10%","30%","10%","50%"]}})})}),(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsx)(d.Ej,{title:"Temps de fonctionnement",subtitle:"",elevation:0,children:(0,c.jsx)(d.Y_,{headers:["Nom","Valeur","Unit\xe9","Description"],keys:["label","value","unit","description"],data:a.data,ui:a.ui.fonctionnement,onChange:i,style:{columnsWidth:["10%","30%","10%","50%"]}})})}),(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsx)(d.Ej,{title:"Apports par les parois",subtitle:"",elevation:0,children:(0,c.jsx)(d.Y_,{headers:["Nom","Valeur","Unit\xe9","Description"],keys:["label","value","unit","description"],data:a.data,ui:a.ui.parois,onChange:i,style:{columnsWidth:["10%","30%","10%","50%"]}})})}),(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsx)(d.Ej,{title:"Apports par les denr\xe9es",subtitle:"",elevation:0,children:(0,c.jsx)(d.Y_,{headers:["Nom","Valeur","Unit\xe9","Description"],keys:["label","value","unit","description"],data:a.data,ui:a.ui.denrees,onChange:i,style:{columnsWidth:["10%","30%","10%","50%"]}})})}),(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsx)(d.Ej,{title:"Apports par l'\xe9clairage",subtitle:"",elevation:0,children:(0,c.jsx)(d.Y_,{headers:["Nom","Valeur","Unit\xe9","Description"],keys:["label","value","unit","description"],data:a.data,ui:a.ui.eclairage,onChange:i,style:{columnsWidth:["10%","30%","10%","50%"]}})})}),(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsx)(d.Ej,{title:"Apports par le renouvellement d'air",subtitle:"",elevation:0,children:(0,c.jsx)(d.Y_,{headers:["Nom","Valeur","Unit\xe9","Description"],keys:["label","value","unit","description"],data:a.data,ui:a.ui.air,onChange:i,style:{columnsWidth:["10%","30%","10%","50%"]}})})}),(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsx)(d.Ej,{title:"Apports par le personnel",subtitle:"",elevation:0,children:(0,c.jsx)(d.Y_,{headers:["Nom","Valeur","Unit\xe9","Description"],keys:["label","value","unit","description"],data:a.data,ui:a.ui.personnel,onChange:i,style:{columnsWidth:["10%","30%","10%","50%"]}})})})]})},m={data:{projet:{id:"projet",name:"projet",label:"projet",value:"NomDeLAffaire",description:"Nom du projet",unit:{value:"",label:""},standard:"",reference:""},file:{id:"file",name:"file",label:"file",value:"",description:"Nom du fichier",unit:{value:"",label:""},standard:"",reference:""},version:{id:"version",name:"version",label:"version",value:"0",description:"Version du projet",unit:{value:"",label:""},standard:"",reference:""},responsable:{id:"responsable",name:"responsable",label:"responsable",value:"0",description:"Responsable du projet",unit:{value:"",label:""},standard:"",reference:""},classe:{id:"classe",name:"classe",label:"classe",value:"",description:"classe",unit:{value:"",label:""},standard:"",reference:""},length:{id:"length",name:"length",label:"length",description:"Longueur",value:15,unit:{value:"m",label:"m"}},width:{id:"width",name:"width",label:"width",description:"Largeur",value:8,unit:{value:"m",label:"m"}},height:{id:"height",name:"height",label:"height",description:"Hauteur",value:3.5,unit:{value:"m",label:"m"}},interiortemp:{id:"interiortemp",name:"interiortemp",label:"interiortemp",description:"Temp\xe9rature int\xe9rieure",value:0,unit:{value:"\xb0C",label:"\xb0C"}},exteriortemp:{id:"exteriortemp",name:"exteriortemp",label:"exteriortemp",description:"Temp\xe9rature ext\xe9rieure",value:32,unit:{value:"\xb0C",label:"\xb0C"}},ceilingtemp:{id:"ceilingtemp",name:"ceilingtemp",label:"ceilingtemp",description:"Temp\xe9rature plafond",value:16,unit:{value:"\xb0C",label:"\xb0C"}},floortemp:{id:"floortemp",name:"floortemp",label:"floortemp",description:"Temp\xe9rature sol",value:15,unit:{value:"\xb0C",label:"\xb0C"}},basetime:{id:"basetime",name:"basetime",label:"basetime",description:"Base de temps",value:24,unit:{value:"h",label:"h"}},baseKM1:{id:"baseKM1",name:"baseKM1",label:"baseKM1",description:"U Mur 1",value:.4,unit:{value:"W/m\xb2.K",label:"W/m\xb2.K"}},baseKM2:{id:"baseKM2",name:"baseKM2",label:"baseKM2",description:"U Mur 2",value:.4,unit:{value:"W/m\xb2.K",label:"W/m\xb2.K"}},baseKM3:{id:"baseKM3",name:"baseKM3",label:"baseKM3",description:"U Mur 3",value:.4,unit:{value:"W/m\xb2.K",label:"W/m\xb2.K"}},baseKM4:{id:"baseKM4",name:"baseKM4",label:"baseKM4",description:"U Mur 4",value:.4,unit:{value:"W/m\xb2.K",label:"W/m\xb2.K"}},baseKPlafond:{id:"baseKPlafond",name:"baseKPlafond",label:"baseKPlafond",description:"U Plafond",value:.4,unit:{value:"W/m\xb2.K",label:"W/m\xb2.K"}},baseKSol:{id:"baseKSol",name:"baseKSol",label:"baseKSol",description:"U Sol",value:.4,unit:{value:"W/m\xb2.K",label:"W/m\xb2.K"}},QuBa:{id:"QuBa",name:"QuBa",label:"QuBa",description:"Quantit\xe9 introduite par jour",value:0,unit:{value:"kg",label:"kg"}},QuSt:{id:"QuSt",name:"QuSt",label:"QuSt",description:"Quantit\xe9 stock\xe9e",value:0,unit:{value:"kg",label:"kg"}},TINTR:{id:"TINTR",name:"TINTR",label:"TINTR",description:"Temp\xe9rature d'introduction",value:0,unit:{value:"\xb0C",label:"\xb0C"}},TST:{id:"TST",name:"TST",label:"TST",description:"Temp\xe9rature de stockage",value:0,unit:{value:"\xb0C",label:"\xb0C"}},C1:{id:"C1",name:"C1",label:"C1",description:"Chaleur massique avant cong\xe9lation",value:0,unit:{value:"kJ/kg.K",label:"kJ/kg.K"}},CRESP:{id:"CRESP",name:"CRESP",label:"CRESP",description:"Chaleur de respiration",value:0,unit:{value:"kJ/kg",label:"kJ/kg"}},CL:{id:"CL",name:"CL",label:"CL",description:"Chaleur latente de cong\xe9lation",value:0,unit:{value:"kJ/kg",label:"kJ/kg"}},C2:{id:"C2",name:"C2",label:"C2",description:"Chaleur massique apr\xe8s cong\xe9lation",value:0,unit:{value:"kJ/kg.K",label:"kJ/kg.K"}},TCongel:{id:"TCongel",name:"TCongel",label:"TCongel",description:"Point de cong\xe9lation",value:0,unit:{value:"\xb0C",label:"\xb0C"}},PECLAIRAGE:{id:"PECLAIRAGE",name:"PECLAIRAGE",label:"PECLAIRAGE",description:"Puissance d'\xe9clairage install\xe9e",value:0,unit:{value:"W/m\xb2",label:"W/m\xb2"}},DECLAIRAGE:{id:"DECLAIRAGE",name:"DECLAIRAGE",label:"DECLAIRAGE",description:"Dur\xe9e d'\xe9clairage",value:0,unit:{value:"h",label:"h"}},TRA:{id:"TRA",name:"TRA",label:"TRA",description:"Taux de renouvellement d'air",value:0,unit:{value:"vol/h",label:"vol/h"}},NIND:{id:"NIND",name:"NIND",label:"NIND",description:"Nombre d'individus",value:0,unit:{value:"-",label:"-"}},TIND:{id:"TIND",name:"TIND",label:"TIND",description:"Temps de pr\xe9sence",value:0,unit:{value:"h",label:"h"}},Hrint:{id:"Hrint",name:"Hrint",label:"Hrint",description:"Humidit\xe9 relative int\xe9rieure",value:0,unit:{value:"%",label:"%"}},Hrext:{id:"Hrext",name:"Hrext",label:"Hrext",description:"Humidit\xe9 relative ext\xe9rieure",value:0,unit:{value:"%",label:"%"}},surfacearea:{id:"surfacearea",name:"surfacearea",label:"surfacearea",description:"Surface au sol",value:120,unit:{value:"m\xb2",label:"m\xb2"}},wallarea:{id:"wallarea",name:"wallarea",label:"wallarea",description:"Surface des murs",value:161,unit:{value:"m\xb2",label:"m\xb2"}},volume:{id:"volume",name:"volume",label:"volume",description:"Volume total",value:420,unit:{value:"m\xb3",label:"m\xb3"}},Consommations:{id:"Consommations",name:"Consommations",label:"Consommations",description:"Consommation \xe9nerg\xe9tique annuelle",value:22061,unit:{value:"kWh",label:"kWh"}},Partition:{id:"Partition",name:"Partition",label:"Partition",description:"R\xe9partition des charges thermiques",value:[100,0,0,0,0],unit:{value:"%",label:"%"}},Qparois:{id:"Qparois",name:"Qparois",label:"Qparois",description:"Apport thermique des parois",value:217589.76,unit:{value:"kJ",label:"kJ"}},QDenrees:{id:"QDenrees",name:"QDenrees",label:"QDenrees",description:"Apport thermique des denr\xe9es",value:0,unit:{value:"kJ",label:"kJ"}},Qeclairage:{id:"Qeclairage",name:"Qeclairage",label:"Qeclairage",description:"Apport thermique de l'\xe9clairage",value:0,unit:{value:"kJ",label:"kJ"}},Qindividus:{id:"Qindividus",name:"Qindividus",label:"Qindividus",description:"Apport thermique des personnes",value:0,unit:{value:"kJ",label:"kJ"}},QRa:{id:"QRa",name:"QRa",label:"QRa",description:"Apport thermique du renouvellement d'air",value:0,unit:{value:"kJ",label:"kJ"}}},ui:{projet:["projet","responsable","version"],dimensions:["length","width","height"],conditions:["interiortemp","exteriortemp","ceilingtemp","floortemp"],fonctionnement:["basetime"],parois:["baseKM1","baseKPlafond","baseKSol"],denrees:["QuBa","QuSt","TINTR","TCongel","TST","C1","C2","CL","CRESP"],eclairage:["PECLAIRAGE","DECLAIRAGE"],air:["TRA"],personnel:["NIND","TIND"],resultats:["surfacearea","wallarea","volume","Consommations","Qparois","QDenrees","Qeclairage","Qindividus","QRa"]}};var p=t(9577);const b=e=>{let{columns:a,data:t,ui:i,onChange:n,isDisable:s}=e;const[o,d]=(0,l.useState)([]);(0,l.useEffect)((()=>{d(i)}),[]);const u="solid 0px #E8E8E8";return(0,c.jsx)("div",{children:(0,c.jsxs)(r.Table,{children:[(0,c.jsx)("thead",{children:(0,c.jsx)("tr",{children:null===a||void 0===a?void 0:a.map(((e,a)=>(0,c.jsx)("td",{children:e},a)))},0)}),(0,c.jsx)("tbody",{children:null===o||void 0===o?void 0:o.map(((e,a)=>(0,c.jsxs)("tr",{style:{borderTop:u,borderBottom:u},children:[(0,c.jsx)("td",{width:"50%",children:"".concat(t["".concat(e)].description)},4*a+4),(0,c.jsxs)("td",{width:"20%",children:["".concat(t["".concat(e)].label)," "]},4*a+1),(0,c.jsx)("td",{width:"20%",children:"number"===typeof t["".concat(e)].value?(0,c.jsx)(p.NumericFormat,{style:{border:0,backgroundColor:"white",width:"80%",color:"".concat(t["".concat(e)].color?t["".concat(e)].color:"blue")},type:"text",onChange:n(t["".concat(e)].id),value:t["".concat(e)].value.toFixed(2),disabled:s}):(0,c.jsx)(r.Input,{style:{border:0,color:"blue"},type:"text",onChange:n(t["".concat(e)].id),value:t["".concat(e)].value,disableUnderline:!0})},4*a+2),(0,c.jsx)("td",{width:"20%",children:"".concat(t["".concat(e)].unit.label)},4*a+3)]},4*a)))})]})})},h=(0,o.A)((e=>({card:{textDecoration:"none",margin:e.spacing(1),borderRadius:"0px"},link:{textDecoration:"none"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:23},pos:{marginBottom:12},badge:{"& > *":{margin:e.spacing(1)}}}))),v=e=>{let{title:a,subtitle:t,elevation:i,children:n,card:l}=e;const s=h();return(0,c.jsxs)(r.Card,{className:l||s.card,elevation:i||0===i?i:3,children:[(0,c.jsx)(r.CardHeader,{title:(0,c.jsx)("div",{className:s.title,children:a}),subheader:t}),(0,c.jsx)(r.CardContent,{children:n}),(0,c.jsx)(r.CardActions,{})]})};var x=t(9282),g=t(3439),j=t(7869),A=t(6150),C=t(1327);const f=(0,o.A)((e=>({root:{"& .MuiTableCell-root":{border:"none"}},label:{fontFamily:"sans-serif",fontSize:"14px",width:"100%",lineHeight:"1"},tableCell:{lineHeight:"1.5"},tableContainer:{border:"1px solid #000",marginBottom:"10px",padding:"10px",marginRight:e.spacing(1),flex:"1"},tableTitle:{marginLeft:"0.5rem",fontSize:"16px",fontWeight:"bolder"}}))),T=e=>{let{state:a,setState:t,handleChange:i}=e;f();const n=["#8884d8","#82ca9d","#ffbb28","#ff8042","#d62728"],l=[{name:"Parois",value:a.data.Partition.value[0]||0},{name:"Denr\xe9es",value:a.data.Partition.value[1]||0},{name:"\xc9clairage",value:a.data.Partition.value[2]||0},{name:"Individus",value:a.data.Partition.value[3]||0},{name:"Renouvellement d\u2019air",value:a.data.Partition.value[4]||0}];return(0,c.jsxs)(r.Grid,{container:!0,spacing:3,children:[(0,c.jsx)(r.Grid,{item:!0,md:6,children:(0,c.jsx)(v,{title:"R\xe9sultats",subtitle:"",elevation:0,children:(0,c.jsx)(r.Grid,{container:!0,spacing:3,children:(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsx)(b,{columns:[],data:a.data,ui:a.ui.resultats,onChange:i,isDisable:!0})})})})}),(0,c.jsx)(r.Grid,{item:!0,md:6,children:(0,c.jsx)(v,{title:"R\xe9partition des pertes",subtitle:"",elevation:0,children:(0,c.jsx)(r.Grid,{container:!0,spacing:3,children:(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsxs)(x.r,{width:400,height:300,children:[(0,c.jsx)(g.F,{data:l,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:!0,children:l.map(((e,a)=>(0,c.jsx)(j.f,{fill:n[a]},"cell-".concat(a))))}),(0,c.jsx)(A.m,{}),(0,c.jsx)(C.s,{})]})})})})})]})};var I=t(7728),P=t(7603),R=t(8713),y=t(7325),k=t(6962),E=t(4417),S=t(8472),N=t(9722),D=t(8425);const w=["children","value","index"],K=(0,o.A)((e=>({root:{"& .MuiTableCell-root":{border:"none"}},label:{fontFamily:"sans-serif",fontSize:"14px"},tableCell:{lineHeight:"1.5"},tableContainer:{border:"1px solid #000",marginBottom:"10px",padding:"10px",marginRight:e.spacing(1),flex:"1"},tableTitle:{marginLeft:"0.5rem",fontSize:"16px",fontWeight:"bolder"},overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999}})));function L(e){const{children:a,value:t,index:l}=e,s=(0,n.A)(e,w);return(0,c.jsx)("div",(0,i.A)((0,i.A)({role:"tabpanel",hidden:t!==l,id:"scrollable-auto-tabpanel-".concat(l),"aria-labelledby":"scrollable-auto-tab-".concat(l)},s),{},{children:t===l&&(0,c.jsx)(r.Box,{p:3,children:(0,c.jsx)(r.Typography,{children:a})})}))}function M(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}const{REACT_APP_APPLICATION_NAME:_,REACT_APP_APPLICATION_API_URL:Q,REACT_APP_PLATFORM_API_URL:G,REACT_APP_APPLICATION_ID:W}={REACT_APP_APPLICATION_NAME:"test-project",REACT_APP_APPLICATION_API_URL:"https://test-project.onrender.com",REACT_APP_PLATFORM_API_URL:"https://platform.tridyme.com/api",REACT_APP_APPLICATION_ID:"684a96da5c55bdb3af6c3f4b"};const F=function(e){var a;let{match:t}=e;const n=K(),o=JSON.parse(localStorage.getItem("Socotec_user"));let p;null!=o&&(p=o._id);const[b,h]=(0,l.useState)(m),[v,x]=(0,l.useState)(0),[g,j]=(0,l.useState)(!0),[A,C]=(0,l.useState)(null===(a=t.params)||void 0===a?void 0:a.modelId);(0,l.useEffect)((()=>{(async()=>{let e={};if(console.log("modelId",A),"new"!==A&&void 0!==A){e=(await f(A)).data}else e=m;h(e),j(!1)})()}),[]);const f=async e=>{try{const a=await N.A.post("".concat(G,"/models/batchGet"),[e]);if((null===a||void 0===a?void 0:a.data.length)>0){return a.data[0]}}catch(a){return console.log("error when get models: ",a),[]}},w=e=>a=>{const t=(0,i.A)((0,i.A)({},b),{},{data:(0,i.A)((0,i.A)({},b.data),{},{[e]:(0,i.A)((0,i.A)({},b.data[e]),{},{value:Number(a.target.value)})})});h(t)};return(0,c.jsx)(r.Grid,{container:!0,spacing:3,children:(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsx)(d.Ej,{elevation:0,title:(0,c.jsxs)(P.A,{children:[(0,c.jsx)(R.A,{children:(0,c.jsx)(k.A,{alt:_,src:I.A,style:{borderRadius:"0%",cursor:"pointer",height:"2.5em",width:"2.5em",backgroundColor:"#E6F3FC",borderRadius:"50px"}})}),(0,c.jsx)(y.A,{primary:(0,c.jsx)(r.Typography,{variant:"h5",component:"h2",children:_})})]}),children:(0,c.jsxs)(r.Grid,{container:!0,spacing:3,children:[(0,c.jsx)(r.Grid,{item:!0,sm:6,style:{textAlign:"left"},children:p&&(0,c.jsx)(s.A,{className:n.margin,children:(0,c.jsx)(d.qS,{data:{description:"Nom de l'affaire",value:b.data.projet.value},onChange:(F="projet",e=>{const a=(0,i.A)((0,i.A)({},b),{},{data:(0,i.A)((0,i.A)({},b.data),{},{[F]:(0,i.A)((0,i.A)({},b.data[F]),{},{value:e.target.value})})});h(a)}),props:{disableUnderline:!0,disableInputAdornment:!0},style:{color:"#0082DE"}})})}),(0,c.jsxs)(r.Grid,{item:!0,sm:6,style:{textAlign:"right"},children:[(0,c.jsx)(d.Sr,{label:"Calcul",onClick:async()=>{try{const{data:e}=b,a=["length","width","height","interiortemp","exteriortemp","ceilingtemp","floortemp","basetime","baseKM1","baseKM2","baseKM3","baseKM4","baseKPlafond","baseKSol","QuBa","QuSt","TINTR","TST","C1","CRESP","CL","C2","TCongel","PECLAIRAGE","DECLAIRAGE","TRA","NIND","TIND","Hrint","Hrext"].filter((a=>void 0===e[a].value||null===e[a].value||""===e[a].value));if(a.length>0)return void alert("Les cl\xe9s suivantes sont manquantes : ".concat(a.join(", ")));const t=await fetch("".concat(Q,"/api/analysis"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const n=await t.json();if(n){const e=(0,i.A)((0,i.A)({},b),{},{data:(0,i.A)((0,i.A)({},b.data),n)});h(e)}}catch(e){console.log("Erreur lors de l'envoi de l'\xe9tat:",e)}},style:{borderRadius:"0px",backgroundColor:"#FFFFFF",color:"#0082DE",margin:"1em",textTransform:"none"}}),p&&(0,c.jsx)(d.Sr,{label:"Sauvegarder",onClick:async()=>{console.log("params",t.params);try{const e={projectId:t.params.projectId,name:b.data.projet.value,application:"".concat(W),data:b,user:String(p)};if(A&&"new"!==A){const a=(0,i.A)({id:A},e),{data:t}=await N.A.post("".concat(G,"/models/batchAddOrUpdate"),[a]);console.log("Model updated",t)}else{const a=e,{data:i}=await N.A.post("".concat(G,"/models/batchAddOrUpdate"),[a]);if(i.length>0){const e=i[0].id;t.params.projectId?S.A.push("/projects/".concat(t.params.projectId,"/applications/ID").concat(W,"/models/").concat(e)):S.A.push("/applications/ID".concat(W,"/models/").concat(e)),C(e),console.log("Model added",i)}}E.oR.success("Projet enregistr\xe9",{autoClose:3e3})}catch(e){console.log(e),console.log("Model not saved"),E.oR.error("Erreur : Projet Non enregistr\xe9",{autoClose:3e3})}},style:{borderRadius:"0px",backgroundColor:"#FFFFFF",color:"#0082DE",margin:"1em",textTransform:"none"}})]}),(0,c.jsx)(r.Grid,{item:!0,xs:12,children:(0,c.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,c.jsxs)(r.Tabs,{value:v,onChange:(e,a)=>{x(a)},variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",indicatorColor:"primary",children:[(0,c.jsx)(r.Tab,(0,i.A)({label:"Saisie"},M(0))),(0,c.jsx)(r.Tab,(0,i.A)({label:"R\xe9sultats"},M(1)))]}),g&&p?(0,c.jsx)("div",{className:n.overlay,children:(0,c.jsx)(D.A,{})}):(0,c.jsx)(c.Fragment,{}),(0,c.jsx)(L,{value:v,index:0,children:(0,c.jsx)(u,{state:b,setState:h,handleChange:w})}),(0,c.jsx)(L,{value:v,index:1,children:(0,c.jsx)(T,{state:b,setState:h,handleChange:w})})]})})]})})})});var F}},8472:(e,a,t)=>{t.d(a,{A:()=>i});const i=(0,t(7321).zR)()},3777:(e,a,t)=>{function i(e){return{palette:{type:"light",background:{default:"#ffffff"},primary:{main:"#0082DE"},secondary:{main:"#ffffff",dark:"#FAFAFA",contrastText:"#0082DE"}},overrides:{MuiCard:{root:{borderRadius:"0px"}},MuiPaper:{root:{borderRadius:"0px"}},MuiInput:{root:{borderRadius:"0px",padding:"5px",underline:{borderBottomColor:"transparent"}}},MuiTextField:{root:{}},MuiTab:{root:{outline:"none",textTransform:"none","&$selected":{fontWeight:"bold"}}},MuiButton:{root:{margin:"0.5em",borderRadius:"0px",textTransform:"none",fontSize:"1em",fontWeight:"bold"}}}}}t.d(a,{A:()=>i})},7418:()=>{}}]);
//# sourceMappingURL=142.a96fcebc.chunk.js.map